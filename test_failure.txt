  preprocessor_table_relation_test:
    393. âœ— [31mTableRelation with multiple nested IFs and preprocessor[0m
  query:

1 failure:

correct / [32mexpected[0m / [31munexpected[0m

  1. TableRelation with multiple nested IFs and preprocessor:

    (source_file
      (table_declaration
        object_id: (integer)
        object_name: (quoted_identifier)
        (fields
          (field_declaration
            id: (integer)
            name: (quoted_identifier)
            type: (type_specification
              (code_type
                length: (integer)))
            (table_relation_property
              relation: (table_relation_expression
                (if_table_relation
                  condition: (unified_where_conditions
                    (unified_where_condition
                      (filter_expression_condition
                        field: (field_ref
                          (identifier))
                        operator: (filter_operator)
                        value: (filter_value
                          (const_expression
                            (integer))))))
                  then_relation: (simple_table_relation
                    table: (identifier))
                  else_relation: (table_relation_expression
                    (if_table_relation
                      condition: (unified_where_conditions
                        (unified_where_condition
                          (filter_expression_condition
                            field: (field_ref
                              (identifier))
                            operator: (filter_operator)
                            value: (filter_value
                              (const_expression
                                (integer))))))
                      then_relation: (simple_table_relation
                        table: (identifier))
                      else_relation: (table_relation_expression
                        (if_table_relation
                          condition: (unified_where_conditions
                            (unified_where_condition
                              (filter_expression_condition
                                field: (field_ref
                                  (identifier))
                                operator: (filter_operator)
                                value: (filter_value
                                  (const_expression
                                    (integer))))))
                          then_relation: (simple_table_relation
                            table: (identifier))
                          else_relation: (table_relation_expression
                            (preproc_conditional_table_relation
                              (preproc_if
                                condition: (identifier))
                              (table_relation_expression
                                (if_table_relation
                                  condition: (unified_where_conditions
                                    (unified_where_condition
                                      (filter_expression_condition
                                        field: (field_ref
                                          (identifier))
                                        operator: (filter_operator)
                                        value: (filter_value
                                          (const_expression
                                            (integer))))))
                                  then_relation: (simple_table_relation
[31m                                    table: (identifier))))
[0m[31m                              (ERROR)
[0m[32m                                    table: (identifier)
[0m[32m                                    (where_clause
[0m[32m                                      conditions: (where_conditions
[0m[32m                                        (where_condition
[0m[32m                                          (const_filter
[0m[32m                                            field: (field_ref
[0m[32m                                              (identifier))
[0m[32m                                            value: (identifier))))))))
[0m                              (preproc_else)
                              (table_relation_expression
                                (if_table_relation
                                  condition: (unified_where_conditions
                                    (unified_where_condition
                                      (filter_expression_condition
                                        field: (field_ref
                                          (identifier))
                                        operator: (filter_operator)
                                        value: (filter_value
                                          (const_expression
                                            (integer))))))
                                  then_relation: (simple_table_relation
                                    table: (identifier))))
                              (preproc_endif))))))))))
            (field_trigger_declaration
              type: (trigger_type)
              (code_block
                (call_expression
                  function: (identifier)
                  arguments: (argument_list
                    (string_literal)))))))))

